import{_ as a,c as e,o as t,a4 as o,aE as i,aF as l,aG as n,aH as r,aI as d}from"./chunks/framework.DCU59OQD.js";const f=JSON.parse('{"title":"前后端部署到同一域名","description":"","frontmatter":{},"headers":[],"relativePath":"fqa/same-domain-name.md","filePath":"fqa/same-domain-name.md","lastUpdated":1712923570000}'),c={name:"fqa/same-domain-name.md"},m=o('<h1 id="前后端部署到同一域名" tabindex="-1">前后端部署到同一域名 <a class="header-anchor" href="#前后端部署到同一域名" aria-label="Permalink to &quot;前后端部署到同一域名&quot;">​</a></h1><p>前端和后端部署在同一个域名下，可以解决跨域问题，可以通过下面方法设置。</p><blockquote><p>当然前后端分开部署正常情况下也不会有跨域问题，yylAdmin已经做了跨域处理</p></blockquote><h3 id="自定义打包路径" tabindex="-1">自定义打包路径 <a class="header-anchor" href="#自定义打包路径" aria-label="Permalink to &quot;自定义打包路径&quot;">​</a></h3><h4 id="设置前端环境接口地址" tabindex="-1">设置前端环境接口地址 <a class="header-anchor" href="#设置前端环境接口地址" aria-label="Permalink to &quot;设置前端环境接口地址&quot;">​</a></h4><p>把.env.production环境文件中的接口地址设置为空：VITE_APP_BASE_URL = &#39;&#39;</p><blockquote><p>可以根据打包环境修改对应文件，如果打包测试环境，就在.env.staging中修改<br><img src="'+i+'" alt=""></p></blockquote><h4 id="配置路径和打包目录、打包" tabindex="-1">配置路径和打包目录、打包 <a class="header-anchor" href="#配置路径和打包目录、打包" aria-label="Permalink to &quot;配置路径和打包目录、打包&quot;">​</a></h4><p>把.env.production环境文件中的base路径设置为/admin/,打包路径outDir设置为admin<br> 运行打包命令：cnpm run build:prod</p><blockquote><p>这两个路径名称可以自定义，但是名称必须一样；如果修改的是测试环境文件，运行：cnpm run build:stage <img src="'+l+'" alt=""></p></blockquote><h4 id="复制打包目录到yyladmin-public文件夹下" tabindex="-1">复制打包目录到yylAdmin/public文件夹下 <a class="header-anchor" href="#复制打包目录到yyladmin-public文件夹下" aria-label="Permalink to &quot;复制打包目录到yylAdmin/public文件夹下&quot;">​</a></h4><p>把前面打包后生成的目录admin复制到后端public文件下</p><blockquote><p>就是把yylAdminWeb/admin文件夹复制到yylAdmin/public文件夹下：yylAdmin/public/admin <img src="'+n+'" alt=""></p></blockquote><h4 id="本地测试一下是否能访问" tabindex="-1">本地测试一下是否能访问 <a class="header-anchor" href="#本地测试一下是否能访问" aria-label="Permalink to &quot;本地测试一下是否能访问&quot;">​</a></h4><p><a href="http://localhost:9526/admin/" target="_blank" rel="noreferrer">http://localhost:9526/admin/</a></p><blockquote><p>http://localhost:9526是后端地址，/admin/是前面设置的公共路径 <img src="'+r+'" alt=""></p></blockquote><h4 id="部署yyladmin到服务器上、访问" tabindex="-1">部署yylAdmin到服务器上、访问 <a class="header-anchor" href="#部署yyladmin到服务器上、访问" aria-label="Permalink to &quot;部署yylAdmin到服务器上、访问&quot;">​</a></h4><p>你的域名/admin/</p><blockquote><p>输入部署后端域名，再加上公共路径就可以访问了 <img src="'+d+'" alt=""></p></blockquote><h4 id="前台前端" tabindex="-1">前台前端 <a class="header-anchor" href="#前台前端" aria-label="Permalink to &quot;前台前端&quot;">​</a></h4><p>同样，可以把前台前端（web、h5）、后台前端（yylAdminWeb）等 与 后端（yylAdmin）放到同一个域名下，这样也不会有跨域问题</p>',21),s=[m];function p(h,u,b,_,q,y){return t(),e("div",null,s)}const A=a(c,[["render",p]]);export{f as __pageData,A as default};
