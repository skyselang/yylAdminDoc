---
title: 安装
date: 2020-05-11 13:54:56
permalink: /guide/install
categories: 
  - 指南
tags: 
  - 指南
article: false
---

## 环境要求

- PHP >= 8.0  
  安装 fileinfo、redis 扩展  
  开启 putenv、proc_open 函数
- MySQL >= 5.5
- Redis >= 5.0
- Node >= 18.12
- Npm >= 8.19

::: warning
Node 版本过低或过高可能无法安装，你可以使用 [n](https://github.com/tj/n)，[nvm](https://github.com/creationix/nvm) 或 [nvm-windows](https://github.com/creationix/nvm) 在同一台电脑中管理多个 Node 版本。
:::

## 安装后端

### 克隆项目
```bash
git clone https://gitee.com/skyselang/yylAdmin.git
```
### 进入项目目录
```bash
cd yylAdmin
```
### 设置 composer
```bash
composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
```
### 安装依赖
```bash
composer install
```
### 导入数据库
```bash
数据库文件：private/yyladmin.sql
数据库字符集：utf8mb4
数据库排序规则：utf8mb4_general_ci
```
### 修改配置
```bash
复制.env.example后重命名成.env环境变量文件修改里面配置
```
### 环境配置（phpStudy）
```bash
根据你的实际环境软件配置
域名：localhost
端口：9526
根目录：yylAdmin/public
PHP版本：8.0.2
```
### 设置伪静态
#### Nginx
```bash
location / {
    if (!-e $request_filename){
        rewrite  ^(.*)$  /index.php?s=$1  last;  break;
    }
}
```
#### Apache
- httpd.conf 配置文件中加载 mod_rewrite.so 模块
- AllowOverride None 将 None 改为 All
```bash
<IfModule mod_rewrite.c>
  Options +FollowSymlinks -Multiviews
  RewriteEngine On

  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteRule ^(.*)$ index.php/$1 [QSA,PT,L]
</IfModule>
```
::: warning
不设置伪静态接口文档无法访问  
:::

## 安装前端

### 克隆项目
```bash
git clone https://gitee.com/skyselang/yylAdminWeb.git
```
### 进入项目目录
```bash
cd yylAdminWeb
```
#### 设置 npm
```bash
npm config set registry https://registry.npmmirror.com
```
#### 安装依赖
```bash
npm install
```
> 也可以使用 cnpm、pnpm、yarn
#### 修改配置
```bash
复制.env.xxx后重命名成.env.xxx.local环境变量文件修改里面配置
```
#### 本地开发 启动项目
```bash
npm run dev
```
#### 检查代码错误 eslint
```bash
npm run lint
```
#### 修复代码错误 prettier
```bash
npm run format
```
#### 打包测试环境
```bash
npm run build:stage
```
#### 打包正式环境
```bash
npm run build:prod
```

## 访问后台

地址：[http://localhost:9527](http://localhost:9527)  
账号：yyladmin  
密码：123456  
超管：skyselang  
密码：123456
